
# Question Display é–‹ç™ºã‚¹ãƒ†ãƒƒãƒ—ä¸€è¦§ï¼ˆVercelå¯¾å¿œãƒ»ã‚»ãƒ¼ãƒ–ä½ç½®ä»˜ãï¼‰

## ğŸ§­ ãƒ•ã‚§ãƒ¼ã‚º0ï¼šåœŸå°ã¥ãã‚Šï¼ˆå†ç¾æ€§ï¼‹Vercelå±•é–‹ï¼‰

### 0-1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé››å½¢ & è¨­å®š

* **ç›®çš„**ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã¨Vercelã§åŒä¸€ç’°å¢ƒã‚’å†ç¾å¯èƒ½ã«ã™ã‚‹
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * Next.js é››å½¢ä½œæˆï¼ˆApp Routeræ§‹æˆï¼‰
  * Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¥ç¶š
  * `.env.local.example` + `.env.vercel.example` æ•´å‚™
  * `vercel.json` ã®é››å½¢è¿½åŠ ï¼ˆãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒ»ç’°å¢ƒå¤‰æ•°ã®æ˜ç¤ºï¼‰
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v0.1.0-init`

  * ä¿å­˜ç‰©ï¼š`README`, `.env.local.example`, `.env.vercel.example`, `vercel.json`
  * ç¢ºèªï¼š

    * ãƒ­ãƒ¼ã‚«ãƒ« (`npm run dev`) ã§ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    * Vercel Preview Deploy ãŒæˆåŠŸ
  * ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šåˆæœŸé››å½¢ã¾ã§æˆ»ã›ã‚‹çŠ¶æ…‹

### 0-2 DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é‹ç”¨ãƒ«ãƒ¼ãƒ«ä½œæˆ

* **ç›®çš„**ï¼šDBå¤‰æ›´ã‚’ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ä¸€å…ƒç®¡ç†
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * `supabase/migrations/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
  * å‘½åè¦å‰‡ã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰‹é †ã‚’ `CONTRIBUTING.md` ã«æ˜è¨˜
  * Vercelãƒ‡ãƒ—ãƒ­ã‚¤å‰ã« `supabase db push` â†’ CIã§æ¤œè¨¼
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v0.2.0-migrations-scaffold`

  * ä¿å­˜ç‰©ï¼š`CONTRIBUTING.md`
  * ç¢ºèªï¼šç©ºãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§CIé€šéç¢ºèª

---

## ğŸ”‘ ãƒ•ã‚§ãƒ¼ã‚º1ï¼šã‚¢ã‚¯ã‚»ã‚¹ãƒ¢ãƒ‡ãƒ«ï¼ˆQR â†’ Cookieç®¡ç†ï¼‰

### 1-1 å½¹å‰²ãƒ»ãƒ•ãƒ­ãƒ¼å®šç¾©ï¼ˆä»•æ§˜ã®ã¿ï¼‰

* **ç›®çš„**ï¼šãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ã‹ã¤QRã§æ¨©é™ã‚’åˆ†é›¢
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * QRãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆviewer / moderator / adminï¼‰ä»•æ§˜åŒ–
  * æœ‰åŠ¹æœŸé™ãƒ»å¤±åŠ¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ–‡æ›¸åŒ–
  * Cookieä¿å­˜æ–¹é‡ï¼ˆ`httpOnly` / `secure` / domainæŒ‡å®šï¼‰
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v1.0.0-access-spec`

  * ä¿å­˜ç‰©ï¼š`docs/access-flow.md`ï¼ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã‚ã‚Šï¼‰
  * ç¢ºèªï¼šä»•æ§˜ãŒVercelãƒ‰ãƒ¡ã‚¤ãƒ³ç’°å¢ƒã«é©åˆã—ã¦ã„ã‚‹ã“ã¨

### 1-2 RLSæ–¹é‡ï¼ˆä»•æ§˜ã®ã¿ï¼‰

* **ç›®çš„**ï¼šSupabaseã®RLSã‚’æ­£ã—ãæ§‹æˆ
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * ãƒ†ãƒ¼ãƒ–ãƒ«å˜ä½ã§ SELECT / INSERT / UPDATE ã®å¯å¦è¡¨ä½œæˆ
  * `auth.uid()` ä¸ä½¿ç”¨ã§åŒ¿ååˆ¶ã‚’ç¶­æŒ
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v1.1.0-rls-spec`

  * ä¿å­˜ç‰©ï¼š`docs/rls-policy-table.md`
  * ç¢ºèªï¼šåŒ¿åï¼‹QRåˆ¶å¾¡ãŒçŸ›ç›¾ãªãæˆç«‹

---

## ğŸ’¾ ãƒ•ã‚§ãƒ¼ã‚º2ï¼šå…¬é–‹ãƒ‡ãƒ¼ã‚¿é¢ï¼ˆé–²è¦§ã€œã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼‰

### 2-1 ã‚¹ã‚­ãƒ¼ãƒåˆæ„ï¼ˆä»•æ§˜ã®ã¿ï¼‰

* **ç›®çš„**ï¼šMVPã«å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã‚’å›ºå®šåŒ–
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * `questions / archive_questions / likes / pending_reviews / moderation_logs / qr_tokens / sessions`
  * ERå›³ã¨å‹å®šç¾©ï¼ˆ`types/supabase.ts`ï¼‰æ•´å‚™
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v2.0.0-schema-spec`

  * ä¿å­˜ç‰©ï¼š`docs/schema.md`
  * ç¢ºèªï¼šSupabase Studioä¸Šã§æ§‹é€ ä¸€è‡´

### 2-2 ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°åˆæ„ï¼ˆä»•æ§˜ã®ã¿ï¼‰

* **ç›®çš„**ï¼šURLæ§‹é€ ã¨SEOæ–¹é‡ã‚’æ˜ç¢ºåŒ–
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * `/`, `/ask`, `/archive/[YYYY-MM]`, `/admin/review`, `/admin/qr`, `/admin/logs`
  * Vercel Dynamic Routeæœ€é©åŒ–
  * `generateStaticParams` ã¨ `revalidate` ãƒãƒªã‚·ãƒ¼æ¤œè¨
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v2.1.0-route-spec`

  * ä¿å­˜ç‰©ï¼š`docs/routes.md`
  * ç¢ºèªï¼šãƒ“ãƒ«ãƒ‰å¾Œã®Vercel Previewã§ãƒ«ãƒ¼ãƒˆç¢ºèª

---

## ğŸ§© ãƒ•ã‚§ãƒ¼ã‚º3ï¼šæŠ•ç¨¿ã¨ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### 3-1 æŠ•ç¨¿è¦ç´„ã¨NGåˆ¤å®šãƒ•ãƒ­ãƒ¼

* **ç›®çš„**ï¼šå¥å…¨ãªé‹ç”¨ã®ãŸã‚ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ç­–å®š
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * NGã‚¹ã‚³ã‚¢ â†’ ä¿ç•™ â†’ 48hå¯¾å¿œãƒ«ãƒ¼ãƒ«
  * Slack Webhookã§é€šçŸ¥ï¼ˆ#moderation-alertï¼‰
  * æœ¬æ–‡å‰Šé™¤æ™‚ã®ç›£æŸ»ãƒ¡ã‚¿ä¿æŒ
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v3.0.0-posting-moderation-spec`

  * ä¿å­˜ç‰©ï¼š`docs/moderation-flow.md`
  * ç¢ºèªï¼šãƒ†ã‚­ã‚¹ãƒˆå‰Šé™¤å‡¦ç†ã‚’Vercel Serverlessã§å®Ÿè¡Œå¯èƒ½

### 3-2 ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ«ãƒ¼ãƒ«

* **ç›®çš„**ï¼šè’ã‚‰ã—å¯¾ç­–ãƒ»æŠ•ç¨¿é›†ä¸­åˆ¶å¾¡
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * Supabase Edge Function or Middlewareã§å®Ÿè£…æƒ³å®š
  * 50ä»¶/æ—¥ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰ï¼‹100ä»¶/æ—¥ï¼ˆIPï¼‰åˆ¶é™
  * JSTåŸºæº–ãƒªã‚»ãƒƒãƒˆ
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v3.1.0-rate-limit-spec`

  * ä¿å­˜ç‰©ï¼š`docs/rate-limit.md`
  * ç¢ºèªï¼šVercel Functionsãƒ­ã‚°ã§å‹•ä½œç¢ºèª

---

## âš™ï¸ ãƒ•ã‚§ãƒ¼ã‚º4ï¼šé‹ç”¨ãƒ»ç›£è¦–ï¼ˆVercelå«ã‚€ï¼‰

### 4-1 ç›£è¦–SLOã¨ç™ºå ±æ¡ä»¶

* **ç›®çš„**ï¼šã‚¨ãƒ©ãƒ¼ãƒ»é…å»¶æ¤œçŸ¥ã®è‡ªå‹•åŒ–
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * p95 > 2.0s / ã‚¨ãƒ©ãƒ¼ç‡ > 5% / DBå¤±æ•—3å›
  * Slacké€šçŸ¥ï¼š#system-alert
  * Vercel Analytics + Supabase Logs ç›£è¦–é€£æº
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v4.0.0-observability-spec`

  * ä¿å­˜ç‰©ï¼š`docs/slo-alerts.md`
  * ç¢ºèªï¼šã‚¨ãƒ©ãƒ¼æ¤œçŸ¥æ™‚ã®é€šçŸ¥å‹•ä½œç¢ºèª

### 4-2 å®šä¾‹é‹ç”¨ãƒ»æ¨©é™ç§»è­²

* **ç›®çš„**ï¼šå­¦å†…ã§ã®é‹ç”¨ç¶™ç¶šã‚’å®¹æ˜“ã«
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * é€±æ¬¡ï¼æœˆæ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰‹é †
  * QRå†ç™ºè¡Œãƒ»ç·Šæ€¥å¤±åŠ¹å¯¾å¿œ
  * æ¨©é™æ›´æ–°ãƒ­ã‚°ã®ä¿å­˜
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v4.1.0-ops-runbook`

  * ä¿å­˜ç‰©ï¼š`runbooks/weekly.md`, `monthly.md`, `emergency.md`
  * ç¢ºèªï¼šå„runbookãŒVercelä¸Šã®æ§‹æˆã¨ä¸€è‡´

---

## ğŸ–¼ ãƒ•ã‚§ãƒ¼ã‚º5ï¼šUIä»•æ§˜ï¼ˆVercel Previewãƒ™ãƒ¼ã‚¹ï¼‰

### 5-1 ç”»é¢ä»•æ§˜ï¼ˆãƒ¯ã‚¤ãƒ¤ãƒ¼ã®ã¿ï¼‰

* **ç›®çš„**ï¼šMVPã®UIã‚’æ—©æœŸå›ºå®šã—Previewã§å…±æœ‰
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * ãƒ¯ã‚¤ãƒ¤ãƒ¼å›³ï¼ˆFigma or Excalidrawï¼‰ä½œæˆ
  * EmptyçŠ¶æ…‹ãƒ»æŠ•ç¨¿å¾Œã®åæ˜ ä»•æ§˜è¨˜è¼‰
  * ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œãƒ»ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æŒ‡é‡
  * Vercel Previewã§ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¬ãƒ“ãƒ¥ãƒ¼
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v5.0.0-ui-wireframes`

  * ä¿å­˜ç‰©ï¼š`docs/wireframes/`, `docs/ui-states.md`

---

## ğŸ¤– ãƒ•ã‚§ãƒ¼ã‚º6ï¼šå°†æ¥æ‹¡å¼µæº–å‚™

### 6-1 AIãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©

* **ç›®çš„**ï¼šAIåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯å·®ã—æ›¿ãˆã‚’å®¹æ˜“ã«
* **ã‚„ã‚‹ã“ã¨**ï¼š

  * `judge(content) -> {score, reasons}` IFä»•æ§˜åŒ–
  * Vercel Edge Functionsã§å‹•ä½œæ¤œè¨¼
  * ãƒ­ã‚°é …ç›®ï¼š`score`, `model`, `version`
* **ã‚»ãƒ¼ãƒ–ä½ç½®**ï¼š`v6.0.0-aimod-interface`

  * ä¿å­˜ç‰©ï¼š`docs/interfaces/moderation.md`

---

## ğŸ“Œ å…±é€šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

* **Artifact**ï¼šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»å›³ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ã‚’å…¨ã¦ `docs/` ã«æ ¼ç´
* **Review**ï¼šé–‹ç™ºè€…ï¼‹admin 2åãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆ
* **Tagå‘½å**ï¼š`vX.Y.Z-label` å½¢å¼
* **Evidence**ï¼šVercel Preview URLï¼‹ã‚¹ã‚¯ã‚·ãƒ§ã‚’PRã«æ·»ä»˜

---
